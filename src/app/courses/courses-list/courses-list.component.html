<app-header></app-header>
<div class="courses-container">
  <h2>רשימת קורסים</h2>
  @if (errorMessage()) {
    <div class="error">{{ errorMessage() }}</div>
  } @else if (courses && courses.length > 0) {
    <div class="courses-grid">
      @for (course of courses; track course.id) {
        <div class="course-card">
          <h3>{{ course.title }}</h3>
          <p>{{ course.description }}</p>
          <div class="actions">
            <button (click)="enrollOrUnenroll(course)">
              {{ isEnrolled(course) ? 'יציאה מהקורס' : 'הרשמה לקורס' }}
            </button>
            <button (click)="viewCourseDetails(course.id)">פרטים על הקורס</button>
          </div>
        </div>
      }
    </div>
  } @else if (courses && courses.length === 0) {
    <p>אין קורסים זמינים כרגע.</p>
  } @else {
    <p>טוען קורסים...</p>
  }
  @if (userRole() === 'teacher') {
    <button class="edit-courses-button">עריכת קורסים</button>
  }
</div>